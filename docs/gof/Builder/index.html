<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{Builder} (GOF) | Padr√µes de Projetos</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css">
    <link rel="icon" href="/vuepressppr/logo.png">
    <link rel="manifest" href="/vuepressppr/manifest.json">
    <link rel="apple-touch-icon" href="/vuepressppr/icon-192x192.png">
    <link rel="mask-icon" href="/vuepressppr/icon-192x192.png" color="#3eaf7c">
    <meta name="description" content="Material para as aulas da disciplina de Padr√µes de Projetos">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icon-192x192.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/vuepressppr/assets/css/0.styles.47a93a5c.css" as="style"><link rel="preload" href="/vuepressppr/assets/js/app.c089e0e7.js" as="script"><link rel="preload" href="/vuepressppr/assets/js/2.63c38da0.js" as="script"><link rel="preload" href="/vuepressppr/assets/js/24.45aab871.js" as="script"><link rel="preload" href="/vuepressppr/assets/js/3.5bc5870a.js" as="script"><link rel="prefetch" href="/vuepressppr/assets/js/10.2686d00a.js"><link rel="prefetch" href="/vuepressppr/assets/js/11.fd30b52b.js"><link rel="prefetch" href="/vuepressppr/assets/js/12.fb774cab.js"><link rel="prefetch" href="/vuepressppr/assets/js/13.97058f82.js"><link rel="prefetch" href="/vuepressppr/assets/js/14.77172f79.js"><link rel="prefetch" href="/vuepressppr/assets/js/15.c64e7f5a.js"><link rel="prefetch" href="/vuepressppr/assets/js/16.3be1f0e5.js"><link rel="prefetch" href="/vuepressppr/assets/js/17.f3abe831.js"><link rel="prefetch" href="/vuepressppr/assets/js/18.aa42b649.js"><link rel="prefetch" href="/vuepressppr/assets/js/19.c99e69be.js"><link rel="prefetch" href="/vuepressppr/assets/js/20.d06df924.js"><link rel="prefetch" href="/vuepressppr/assets/js/21.84ee0397.js"><link rel="prefetch" href="/vuepressppr/assets/js/22.516a37df.js"><link rel="prefetch" href="/vuepressppr/assets/js/23.74f1c03e.js"><link rel="prefetch" href="/vuepressppr/assets/js/25.b79a6340.js"><link rel="prefetch" href="/vuepressppr/assets/js/26.793e594c.js"><link rel="prefetch" href="/vuepressppr/assets/js/27.d7af70d4.js"><link rel="prefetch" href="/vuepressppr/assets/js/28.9bdac829.js"><link rel="prefetch" href="/vuepressppr/assets/js/29.f12628d0.js"><link rel="prefetch" href="/vuepressppr/assets/js/30.908e2c50.js"><link rel="prefetch" href="/vuepressppr/assets/js/31.f4ebc6d7.js"><link rel="prefetch" href="/vuepressppr/assets/js/32.1ad291b4.js"><link rel="prefetch" href="/vuepressppr/assets/js/33.a15606af.js"><link rel="prefetch" href="/vuepressppr/assets/js/34.ccff6b5b.js"><link rel="prefetch" href="/vuepressppr/assets/js/35.a8474c54.js"><link rel="prefetch" href="/vuepressppr/assets/js/36.8332203f.js"><link rel="prefetch" href="/vuepressppr/assets/js/37.c69b180a.js"><link rel="prefetch" href="/vuepressppr/assets/js/38.cc034efa.js"><link rel="prefetch" href="/vuepressppr/assets/js/4.552a1731.js"><link rel="prefetch" href="/vuepressppr/assets/js/5.2b7133b0.js"><link rel="prefetch" href="/vuepressppr/assets/js/6.28e79f91.js"><link rel="prefetch" href="/vuepressppr/assets/js/7.a41c72a8.js"><link rel="prefetch" href="/vuepressppr/assets/js/8.c3a503dd.js"><link rel="prefetch" href="/vuepressppr/assets/js/9.a4cc5b73.js">
    <link rel="stylesheet" href="/vuepressppr/assets/css/0.styles.47a93a5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepressppr/" class="home-link router-link-active"><!----> <span class="site-name">Padr√µes de Projetos</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/leandro-costa/vuepressppr" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/leandro-costa/vuepressppr" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>{Builder} (GOF)</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepressppr/gof/Builder/#intencao" class="sidebar-link">Inten√ß√£o</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#motivacao" class="sidebar-link">Motiva√ß√£o</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#aplicabilidade" class="sidebar-link">Aplicabilidade</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#estrutura" class="sidebar-link">Estrutura</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#participantes" class="sidebar-link">Participantes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#colaboracoes" class="sidebar-link">Colabora√ß√µes</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#consequencias" class="sidebar-link">Consequ√™ncias</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#implementacao" class="sidebar-link">Implementa√ß√£o</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#padrao-relacionados" class="sidebar-link">Padr√£o relacionados</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepressppr/gof/Builder/#referencias" class="sidebar-link">Refer√™ncias</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="builder-gof"><a href="#builder-gof" class="header-anchor">#</a> {Builder} (GOF)</h1> <h2 id="intencao"><a href="#intencao" class="header-anchor">#</a> Inten√ß√£o</h2> <p>Separar a constru√ß√£o de um objeto complexo da sua representa√ß√£o de modo que o mesmo processo de constru√ß√£o possa criar diferentes representa√ß√µes.</p> <h2 id="motivacao"><a href="#motivacao" class="header-anchor">#</a> Motiva√ß√£o</h2> <p>Um leitor de um documento em RTP (Rich Text Format) deveria ser capaz de converter RTP em muitos formatos de texto. O leitor poderia converter documentos RTP em texto ASCII comum ou widget de texto, que possa ser editado interativamente.</p> <p>O problema, contudo, √© que o n√∫mero de convers√µes poss√≠veis √© aberto.</p> <p>Por isso, deve ser f√°cil acrescentar uma nova convers√£o sem modificar o leitor.</p> <p>Uma solu√ß√£o √© configurar a classe RTFReader com um objeto TextConverter que converte RTF para uma outra representa√ß√£o de textos. A medida que o RTFReader analisa o documento RTF, ele usa o objeto TextConverter para efetuar a convers√£o. Sempre que o RTPReader reconhece um s√≠mbolo RTP (texto simples, ou uma palavra de controle do RTP), ele emite uma solicita√ß√£o para o TextConverter para converter esse s√≠mbolo. Os objetos TextConverter s√£o respons√°veis tanto por efetuar a convers√£o dos dados como pela representa√ß√£o do s√≠mbolo num formato particular.</p> <p>As subclasses de TextConverter se especializam em diferentes convers√µes e formatos. Por exemplo, um ASCIIConverter ignora solicita√ß√µes para converter qualquer coisa, exceto texto simples. Por outro lado, um TeXConverter implementar√° opera√ß√µes para todas as solicita√ß√µes visando produzir uma representa√ß√£o TEX que capture toda a informa√ß√£o estil√≠stica do texto. Um TextWidgetConverter produzir√° um objeto para uma interface de usu√°rio complexa que permite ao usu√°rio ver e editar o texto.</p> <figure><p><img src="img/builder.gif" alt=""></p></figure> <p>Cada tipo de classe conversora implementa o mecanismo para cria√ß√£o e montagem de um objeto complexo, colocando-o atr√°s de uma interface abstrata. O conversor √© separado do leitor, que √© respons√°vel pela an√°lise de um documento RTF.</p> <p>O padr√£o Builder captura todos estes relacionamentos. Cada classe conversora √© chamada um builder no padr√£o, e o leitor √© chamado de director. Aplicado a este exemplo, o Builder separa o algoritmo para interpretar um formato de texto (isto √©, o analisador de documentos RTF) de como um formato convertido √©  criado e representado. Isso nos permite reutilizar o algoritmo de an√°lise (parsing) do RTFReader para criar diferentes representa√ß√µes de texto a partir de documentos RTF - simplesmente configure o RTFReader com diferentes subclasses de TextConverter.</p> <h2 id="aplicabilidade"><a href="#aplicabilidade" class="header-anchor">#</a> Aplicabilidade</h2> <p>Use o padr√£o Builder quando:</p> <ul><li>o algoritmo para cria√ß√£o de um objeto complexo deve ser independente das partes que comp√µem o
objeto e de como elas s√£o montadas.</li> <li>o processo de constru√ß√£o deve permitir diferentes representa√ß√µes para o objeto que √© constru√≠do.</li></ul> <h2 id="estrutura"><a href="#estrutura" class="header-anchor">#</a> Estrutura</h2> <figure><p><img src="img/builderStruct.gif" alt=""></p></figure> <h2 id="participantes"><a href="#participantes" class="header-anchor">#</a> Participantes</h2> <ul><li>Builder(TextConverter)
<ul><li>especifica uma interface abstrata para cria√ß√£o de partes de um objeto produto.</li></ul></li> <li>ConcreteBuilder (ASCUConverter, TeXConverter, TextWidgetConverter)
<ul><li>constr√≥i e monta partes do produto pela implementa√ß√£o da interface de Builder;</li> <li>define e mant√©m a representa√ß√£o que cria;</li> <li>fornece uma interface para recupera√ß√£o do produto (por exemplo, GetASCIIText, GetTextWidget).</li></ul></li> <li>Director (RTFReader)
<ul><li>constr√≥i um objeto usando a interface de Builder.</li></ul></li> <li>Product (ASCIIText, TeXText, TextWidget).
<ul><li>representa o objeto complexo em constru√ß√£o. ConcreteBuilder constr√≥i a representa√ß√£o interna do produto e define o processo pelo qual ele √© montado;</li> <li>inclui classes que definem as partes constituintes, inclusive as interfaces para a montagem das partes no resultado final.</li></ul></li></ul> <h2 id="colaboracoes"><a href="#colaboracoes" class="header-anchor">#</a> Colabora√ß√µes</h2> <ul><li>O cliente cria o objeto Director e o configura com o objeto Builder desejado.</li> <li>Director notifica o construtor sempre que uma parte do produto deve ser constru√≠da.</li> <li>Builder trata solicita√ß√µes do diretor e acrescenta partes ao produto.</li> <li>O cliente recupera o produto do construtor.</li></ul> <p>O seguinte diagrama de intera√ß√£o ilustra como Builder e Director cooperam com um cliente:</p> <figure><p><img src="img/builderSequencial.gif" alt=""></p></figure> <h2 id="consequencias"><a href="#consequencias" class="header-anchor">#</a> Consequ√™ncias</h2> <p>A seguir s√£o apresentadas as consequ√™ncias-chave da utiliza√ß√£o do padr√£o Builder:</p> <ol><li>Permite variar a representa√ß√£o interna de um produto. O objeto Builder fornece ao diretor uma interface abstrata para a constru√ß√£o do produto. A interface permite ao construtor ocultar a representa√ß√£o e a estrutura interna do produto. Ela tamb√©m oculta como o produto √© montado. J√° que o produto √© constru√≠do atrav√©s de uma interface abstrata, tudo o que voc√™ tem que fazer para mudar sua representa√ß√£o interna √© definir um novo tipo de construtor.</li> <li>Isola o c√≥digo para constru√ß√£o e representa√ß√£o. O padr√£o Builder melhora a modularidade pelo encapsulamento da forma como um objeto complexo √© constru√≠do e representado. Os clientes nada necessitam saber sobre as classes que definem a estrutura interna do produto; tais classes n√£o aparecem na interface de Builder. Cada ConcreteBuilder cont√©m todo o c√≥digo para criar e montar um tipo de produto espec√≠fico. O c√≥digo √© escrito somente uma vez; ent√£o, diferentes Directors podem reutiliz√°-lo para construir variantes de Product com o mesmo conjunto de partes. No exemplo anterior do RTF, n√≥s poder√≠amos definir o leitor para um formato diferente do RTF, digamos um SGMLReader, e usado os mesmos TextConverters para gerar representa√ß√µes ASCIIText, TeXText, e TexWidget de documentos SGML.</li> <li>Oferece um controle mais fino sobre o processo de constru√ß√£o. Ao contr√°rio de padr√µes de cria√ß√£o que constroem produtos de uma s√≥ vez, o Builder constr√≥i o produto passo a passo sob o controle do diretor.</li></ol> <p>Somente quando o produto est√° terminado o diretor o recupera do construtor. Da√≠ a interface de Builder refletir o processo de constru√ß√£o do produto mais explicitamente do que outros padr√µes de cria√ß√£o. Isso d√° um controle mais fino sobre o processo de constru√ß√£o e, consequentemente, da estrutura interna do produto resultante.</p> <h2 id="implementacao"><a href="#implementacao" class="header-anchor">#</a> Implementa√ß√£o</h2> <p>Existe uma classe abstrata Builder que define uma opera√ß√£o para cada componente que um diretor lhe pedir para criar. As opera√ß√µes n√£o fazem nada por omiss√£o. Uma classe ConcreteBuilder redefine as opera√ß√µes para os componentes que ela est√° interessada em criar.
Aqui apresentamos outros t√≥picos de implementa√ß√£o a serem considerados:</p> <ol><li>Interface de montagem e constru√ß√£o. Os Builders constroem os seus produtos de uma forma gradual. Portanto, a interface da classe Builder deve ser geral o bastante para permitir a constru√ß√£o de produtos para todos os tipos de construtores concretos.
Um t√≥pico-chave de projeto diz respeito ao modelo para o processo de constru√ß√£o e montagem. Um modelo onde os resultados das solicita√ß√µes de constru√ß√£o s√£o simplesmente acrescentados ao produto √© normalmente suficiente. No exemplo do RTF, o construtor converte e acrescenta o pr√≥ximo s√≠mbolo ao texto que converteu at√© aqui. Mas √†s vezes voc√™ pode necessitar acesso a partes do produto constru√≠das anteriormente. No exemplo do labirinto que n√≥s apresentamos no c√≥digo de exemplo, a interface MazeBuilder permite acrescentar uma porta entre salas existentes. Estruturas de √°rvores, tais como √°rvores de deriva√ß√£o, que s√£o constru√≠das de baixo para cima (bottom-up), s√£o um outro exemplo. Nesse caso, o construtor retornaria n√≥s-filhos para o diretor, que ent√£o os passaria de volta ao construtor para construir os n√≥s-pais.</li> <li>Por que n√£o classes abstratas para produtos? Nos casos comuns, os produtos produzidos pelos construtores concretos diferem t√£o grandemente na sua representa√ß√£o que h√° pouco a ganhar ao dar a diferentes produtos uma classe-pai comum. No exemplo do RTF, os objetos ASCIIText e TextWidget t√™m pouca probabilidade de ter uma interface comum, e tampouco necessitam de uma. Uma vez que o cliente em geral configura o diretor com o construtor concreto apropriado, o cliente est√° em posi√ß√£o de saber quais subclasses concretas de Builder est√£o em uso e pode tratar os seus produtos de acordo.</li> <li>M√©todos vazios como a omiss√£o em Builder. Em C++, os m√©todos de constru√ß√£o s√£o intencionalmente n√£o-declarados como fun√ß√µes-membro. Em vez disso, eles s√£o definidos como m√©todos vazios, permitindo aos clientes redefinirem somente as opera√ß√µes em que est√£o interessados.</li></ol> <h2 id="padrao-relacionados"><a href="#padrao-relacionados" class="header-anchor">#</a> Padr√£o relacionados</h2> <h2 id="referencias"><a href="#referencias" class="header-anchor">#</a> Refer√™ncias</h2></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/leandro-costa/vuepressppr/edit/master/src/gof/Builder/README.md" target="_blank" rel="noopener noreferrer">Edit!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/29/2022, 12:29:43 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/vuepressppr/03_GOF.html" class="prev">
        GOF üî®
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/vuepressppr/assets/js/app.c089e0e7.js" defer></script><script src="/vuepressppr/assets/js/2.63c38da0.js" defer></script><script src="/vuepressppr/assets/js/24.45aab871.js" defer></script><script src="/vuepressppr/assets/js/3.5bc5870a.js" defer></script>
  </body>
</html>
